//castle-main mixins
//===============
@import "../bootstrap/mixins.less";
//Changes the color and the hovering properties of the navbar
.navbar-variant(@color; @font-color: rgba(255, 255, 255, 0.8); @hover-color: #f6f6f6; @hover-bg: rgba(0, 0, 0, 0.1)) {
  background-color: @color;

  //Navbar links
  .nav > li > a {
    color: @font-color;
  }

  .nav > li > a:hover,
    .nav > li > a:active,
    .nav > li > a:focus,
    .nav .open > a,
    .nav .open > a:hover,
    .nav .open > a:focus {
    background: @hover-bg;
    color: @hover-color;
  }
  .nav> li.active {
    background: @hover-bg;
    color: @hover-color;
  }
  //Add color to the sidebar toggle button
  .sidebar-toggle {
    color: @font-color;
    &:hover {
      color: @hover-color;
      background: @hover-bg;
    }
  }
}

//Logo color variation
.logo-variant(@bg-color; @color: #fff; @border-bottom-color: transparent; @border-bottom-width: 0px) {
  background-color: @bg-color;
  color: @color;
  border-bottom: @border-bottom-width solid @border-bottom-color;

  &:hover {
    background-color: darken(@bg-color, 1%);
  }
}

//Box solid color variantion creator
.box-solid-variant(@color; @text-color: #fff) {
  border: 1px solid @color;
  > .box-header {
    color: @text-color;
    background: @color;
    background-color: @color;
    a,
    .btn {
      color: @text-color;
    }
  }
}

//Direct Chat Variant
.direct-chat-variant(@bg-color; @color: #fff) {
  .right > .direct-chat-text {
    background: @bg-color;
    border-color: @bg-color;
    color: @color;
    &:after,
      &:before {
      border-left-color: @bg-color;
    }
  }
}

//border radius creator
.border-radius(@radius) {
  border-radius: @radius;
}
//Different radius each side
.border-radius(@topleft; @topright; @bottomleft; @bottomright) {
  border-top-left-radius: @topleft;
  border-top-right-radius: @topright;
  border-bottom-right-radius: @bottomright;
  border-bottom-left-radius: @bottomleft;
}

//Gradient background
.gradient(@color: #F5F5F5, @start: #EEE, @stop: #FFF) {
  background: @color;
  background: -webkit-gradient(linear,
    left bottom,
    left top,
    color-stop(0, @start),
    color-stop(1, @stop));
  background: -ms-linear-gradient(bottom,
    @start,
    @stop);
  background: -moz-linear-gradient(bottom,
    @start 0%,
    @stop 100%);
  background: -o-linear-gradient(@stop,
    @start);
  filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)",@stop,@start));
}

//Added 2.1.0
//Skins Mixins
.skin-sidebar(@link-hover-border-color,@sidebar-bg,@header-color:lighten(@sidebar-bg, 60%),@header-bg:darken(@sidebar-bg, 4%),@sidebar-hover-bg:darken(@sidebar-bg, 2%),@sidebar-color:lighten(@sidebar-bg, 60%),@sidebar-hover-color:#fff,@sidebar-submenu-bg:lighten(@sidebar-bg, 5%),@sidebar-submenu-hover-bg:lighten(@sidebar-bg, 8%),@sidebar-submenu-color:lighten(@sidebar-bg, 40%),@sidebar-submenu-hover-color:#fff) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    background-color: @sidebar-bg;
  }
  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: #fff;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu > li {
    //Section Headning
    &.header {
      color: @header-color;
      background: @header-bg;
      border-bottom: 2px solid @header-color;
    }
    //links
    > a {
      border-left: 3px solid transparent;
    }
    //Hover and active states
    &:hover > a, &.active > a {
      color: @sidebar-hover-color;
      background: @sidebar-hover-bg;
      border-left-color: @link-hover-border-color;
    }
    //First Level Submenu
    > .treeview-menu {
      margin: 0 1px;
      background: @sidebar-submenu-bg;
    }
  }
  //All links within the sidebar menu
  .sidebar a {
    color: @sidebar-color;
    &:hover {
      text-decoration: none;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        color: @sidebar-submenu-color;
      }
      &.active > a, > a:hover {
        color: @sidebar-submenu-hover-color;
        background: @sidebar-submenu-hover-bg;
      }
    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    border: 1px solid lighten(@sidebar-bg, 10%);
    margin: 10px 10px;
    input[type="text"], .btn {
      box-shadow: none;
      background-color: lighten(@sidebar-bg, 10%);
      border: 1px solid transparent;
      height: 35px;
      .transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0) !important;
      &:focus, &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;
      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px) !important;
    }
  }
}
//Dark Sidebar Mixin
.skin-dark-sidebar(@link-hover-border-color) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    background-color: @sidebar-dark-bg;
  }
  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: #fff;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu > li {
    //Section Headning
    &.header {
      color: lighten(@sidebar-dark-bg, 20%);
      background: darken(@sidebar-dark-bg, 4%);
    }
    //links
    > a {
      border-left: 3px solid transparent;      
    }
    //Hover and active states
    &:hover > a, &.active > a {
      color: @sidebar-dark-hover-color;
      background: @sidebar-dark-hover-bg;
      border-left-color: @link-hover-border-color;
    }
    //First Level Submenu
    > .treeview-menu {
      margin: 0 1px;
      background: @sidebar-dark-submenu-bg;
    }
  }
  //All links within the sidebar menu
  .sidebar a {
    color: @sidebar-dark-color;
    &:hover {
      text-decoration: none;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        color: @sidebar-dark-submenu-color;
      }
      &.active > a, > a:hover {
        color: @sidebar-dark-submenu-hover-color;
      }
    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    border: 1px solid lighten(@sidebar-dark-bg, 10%);
    margin: 10px 10px;
    input[type="text"], .btn {
      box-shadow: none;
      background-color: lighten(@sidebar-dark-bg, 10%);
      border: 1px solid transparent;
      height: 35px;
      .transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0) !important;
      &:focus, &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;
      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px) !important;
    }
  }
}

//Light Sidebar Mixin
.skin-light-sidebar(@icon-active-color) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    background-color: @sidebar-light-bg;
  }
  .content-wrapper,
  .main-footer {
    border-left: 1px solid @gray;
  }
  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: @sidebar-light-color;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu > li {
    .transition(border-left-color .3s ease);
    //border-left: 3px solid transparent;
    //Section Headning
    &.header {
      color: lighten(@sidebar-light-color, 25%);
      background: darken(@sidebar-light-bg, 4%);
    }
    //links
    > a {
      border-left: 3px solid transparent;  
      font-weight: normal;
    }
    //Hover and active states
    &:hover > a,
      &.active > a {
      color: @sidebar-light-hover-color;
      background: @sidebar-light-hover-bg;      
    }
    &:hover > a {

    }
    &.active {      
      border-left-color: @icon-active-color;
      > a {
        font-weight: normal;
      }
    }
    //First Level Submenu
    > .treeview-menu {      
      background: @sidebar-light-submenu-bg;      
    }
  }
  //All links within the sidebar menu
  .sidebar a {
    color: @sidebar-light-color;
    &:hover {
      text-decoration: none;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        color: @sidebar-light-submenu-color;
      }
      &.active > a,
      > a:hover {
        color: @sidebar-light-submenu-hover-color;
      }
      &.active > a {
        font-weight: normal;
      }
    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    border: 1px solid @gray;//darken(@sidebar-light-bg, 5%);
    margin: 10px 10px;
    input[type="text"],
    .btn {
      box-shadow: none;
      background-color: #fff;//darken(@sidebar-light-bg, 3%);
      border: 1px solid transparent;
      height: 35px;
      .transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0) !important;
      &:focus,
        &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;
      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px) !important;
    }
  }
}

.skin-sidebar-custom(@sidebar-bg,@sidebar-border,@icon-active-color,@header-color,@header-bg,@header-border) {
  // Sidebar background color (Both .wrapper and .left-side are responsible for sidebar bg color)
  .wrapper,
  .main-sidebar,
  .left-side {
    //Section Headning
    .header {
      color: @header-color;
      background: @header-bg;
      font-size: 14px;
      border-left: 1px solid @header-border;
      border-bottom: 1px solid @header-border;
      box-shadow: -6px 0 2px rgba(128,128,128,0.1);
      height:29px;
      a,a:active,a:link{
        color: @header-color;
      }
    }
    .sidebar-content{
      background-color: @sidebar-bg;
      border:1px solid @sidebar-border;
      border-top:none;
      box-shadow: 0 6px 6px rgba(128,128,128,0.3);
    }
  }

  //User Panel (resides in the sidebar)
  .user-panel {
    > .info, > .info > a {
      color: @sidebar-light-color;
    }
  }
  //Sidebar Menu. First level links
  .sidebar-menu{
    margin-left: 6px;
    > li {
      //border-left: 3px solid transparent;
      //links
      > a {
        border-left: 3px solid transparent;
        .transition(border-left-color .3s ease);
        border-bottom: 1px solid #eeeeee;
        font-weight: normal;
        margin-left:-3px;
      }
      //Hover and active states
      &:hover > a,
      &.active > a {
        color: @sidebar-light-hover-color;
        background: @sidebar-light-hover-bg;
        border-left-color: @icon-active-color;
        background: #f5f5f5;
      }
      //First Level Submenu
      > .treeview-menu {
        background: @sidebar-light-submenu-bg;
        border-bottom: 1px solid #eeeeee;
      }
    }
  }
  //All links within the sidebar menu
  .sidebar{
    a {
      color: @sidebar-light-color;
      &:hover {
        text-decoration: none;
      }
    }
    .space{
      width:10px;
      height:15px;
      display:inline-block;
    }
  }
  //All submenus
  .treeview-menu {
    > li {
      > a {
        .transition(border-left-color .3s ease);
        color: @sidebar-light-submenu-color;
        border-left: 3px solid transparent;
        font-weight: normal;
        height:38px;
        margin-left:-3px;
        >span {
          padding-left: 18px;
          position: relative;
          &::before {
            bottom: auto;
            content: "";
            height: 5px;
            left: 0px;
            margin-top: 7px;
            position: absolute;
            right: auto;
            width: 5px;
            z-index: 1;
            background: fade(@sidebar-light-submenu-color, 50%) none repeat scroll 0% 0%;
          }
          &::after {
            border-left: 1px solid fade(@sidebar-light-submenu-color, 50%);
            bottom: 0px;
            content: "";
            left: 2px;
            position: absolute;
            top: -9px;
            height: 38px;
          }
        }
      }
      &.active > a,
      > a:hover {
        color: @sidebar-light-submenu-hover-color;
        border-left-color: @icon-active-color;
        background: #f5f5f5;
        >span::before{
          background: fade(@sidebar-light-submenu-hover-color,50%) none repeat scroll 0% 0%;
        }
        >span::after {
          border-left: 1px solid fade(@sidebar-light-submenu-hover-color,50%);
        }
      }
      &.active > a {
        font-weight: normal;
      }
      >.treeview-menu{
        border-top: 1px solid @header-border;
        background: #f9f9f9;
      }
    }
    >li:nth-child(2n){
      > a {
        >span::before {
          background: @sidebar-bg none repeat scroll 0% 0%;
          border:1px solid fade(@sidebar-light-submenu-color,50%);
        }
      }
      &.active > a,
      > a:hover {
        >span::before {
          background: @sidebar-bg none repeat scroll 0% 0%;
          border:1px solid fade(@sidebar-light-submenu-hover-color,50%);
        }
      }
    }
    > li:last-child {
      > a {
        >span::after {
          height: 19px;
        }
      }

    }
  }
  //The sidebar search form
  .sidebar-form {
    .border-radius(3px);
    border: 1px solid @gray;//darken(@sidebar-light-bg, 5%);
    margin: 10px 10px;
    input[type="text"],
    .btn {
      box-shadow: none;
      background-color: #fff;//darken(@sidebar-light-bg, 3%);
      border: 1px solid transparent;
      height: 35px;
      .transition(all @transition-speed @transition-fn);
    }
    input[type="text"] {
      color: #666;
      .border-radius(2px, 0, 2px, 0) !important;
      &:focus,
      &:focus + .input-group-btn .btn {
        background-color: #fff;
        color: #666;
      }
      &:focus + .input-group-btn .btn {
        border-left-color: #fff;
      }
    }
    .btn {
      color: #999;
      .border-radius(0, 2px, 0, 2px) !important;
    }
  }
}